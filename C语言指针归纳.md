## C语言指针归纳

### 两个符号：* &

&：一元运算符，用于取一个对象的地址。只能应用于**内存**中的对象，即变量与数组元素。不能作用于表达式、常量或 register 类型的变量。

```c
p = &c;// 将 c 的地址赋值给变量 p
```

*：间接寻址或间接引用运算符。当作用于指针时，将访问指针所指向的对象。

### 程序中表现形式

```c
int n;// n为整型变量
int *p;//  因为声明中由了"*",所以 p 为指针变量，即指向整型的指针。表明 *ip 的结果是 int 类型

//赋值与初始化
int x = 1, y = 2, z[10];
int *ip; // ip is a pointer to int
ip = &x;
y = *ip;
*ip = 0;
ip = &z[0];

//数组与指针
int arrray[10];
int *p;
p = &array[5];//取元素地址
```

### 说明

1. 每种指针都必须指向某种特定的数据类型。（一个例外是指向void类型的指针可以存放指向任何类型的指针，但它不能引用其自身）。

2. 指针也是变量。

3. 通过数组下标所能完成的任何操作都可以通过指针来实现。一般来说，用指针编写的程序比用数组下标编写的程序执行速度快，但理解稍微困难。

4. 指针加1：pa+1指向 pa 所指向对象的下一个对象。

   ```c
   int *pa;
   int x[10];
   pa = x[5];
   pa++;
   ```

   

5. **数组类型的变量或表达式的值是该数组的第0个元素的地址。**数组名所代表的就是该数组最开始的一个元素的地址。所以，下列表达等价

   ```c
   pa = &a[0];
   pa = a;	
   ```

6. 下列表达式等价,都是对数组 a[i] 的引用：

   ```c
   a[i];
   *(a + i);
   ```

   ```c
   &a[i];
   a+i;
   ```

   一个通过数组和下标实现的表达式可等价地通过指针和偏移量实现。但两者区别：指针是变量，数组名不是变量。

   ```c
   pa = a; // right
   pa++;// right
   a=pa; // wrong
   a++; // wrong
   ```

   当把数组名传递给一个函数时，实际上传递的是该数组的第一个元素的地址。

